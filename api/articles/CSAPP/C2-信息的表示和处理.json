{"title":"C2 信息的表示和处理","uid":"60ed0f7899e93e3dd0dff8a77b279977","slug":"CSAPP/C2-信息的表示和处理","date":"2021-08-26T04:14:27.000Z","updated":"2021-08-26T04:15:31.242Z","comments":true,"path":"api/articles/CSAPP/C2-信息的表示和处理.json","keywords":null,"cover":[],"content":"<h1 id=\"信息的表示和处理\"><a href=\"#信息的表示和处理\" class=\"headerlink\" title=\"信息的表示和处理\"></a>信息的表示和处理</h1><h2 id=\"引入\"><a href=\"#引入\" class=\"headerlink\" title=\"引入\"></a>引入</h2><p>二值信号</p>\n<ul>\n<li>容易被表示、存储和传输</li>\n</ul>\n<p>位的组合加解释(group bits together and apply some <em>interpretation</em>)</p>\n<ul>\n<li>能够表示任何有限集合的元素</li>\n</ul>\n<p>三种重要数字表示</p>\n<ul>\n<li>unsigned：基于传统的二进制表示法，表示大于或者等于0的数字</li>\n<li>Two’s-complement：表示有符号整数的最常见方式</li>\n<li>Floating-point：表示实数的科学技术法的以2位基数的版本</li>\n</ul>\n<p>overflow</p>\n<ul>\n<li>原因<ul>\n<li>计算机表示法用有限数量的位来对一个数字编码</li>\n<li>Computer representations use a limited number of bits to encode a number</li>\n</ul>\n</li>\n<li>Example<ul>\n<li><img src=\"https://tva1.sinaimg.cn/large/008i3skNly1gtu2hc8mkjj60oo09w3zv02.jpg\" alt=\"截屏2021-08-20 上午10.19.08\"></li>\n</ul>\n</li>\n</ul>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>如何阅读本章</p>\n<ul>\n<li>反复阅读原理描述和示例与讨论</li>\n</ul></blockquote>\n<h2 id=\"信息存储\"><a href=\"#信息存储\" class=\"headerlink\" title=\"信息存储\"></a>信息存储</h2><table>\n<thead>\n<tr>\n<th>名词</th>\n<th>定义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>字节byte</td>\n<td>8位的块<br />blocks of 8 bits<br />the smallest addressable unit of memory.</td>\n</tr>\n<tr>\n<td>虚拟内存virtual memory</td>\n<td>机器级程序将内存视为一个非常大的字节数组</td>\n</tr>\n<tr>\n<td>地址address</td>\n<td>内存的每个字节都由一个唯一的数字来标识</td>\n</tr>\n<tr>\n<td>虚拟地址空间virtual address space</td>\n<td>所有可能地址的集合</td>\n</tr>\n</tbody></table>\n<p>接下来：</p>\n<pre class=\"line-numbers language-mermaid\" data-language=\"mermaid\"><code class=\"language-mermaid\">graph TD\n存储器空间 --编译运行--&gt;更可管理的单元\n--存放--&gt;不同的program.object<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"十六进制表示法\"><a href=\"#十六进制表示法\" class=\"headerlink\" title=\"十六进制表示法\"></a>十六进制表示法</h3><p><img src=\"https://tva1.sinaimg.cn/large/008i3skNly1gtu2hhux50j61a20eq76l02.jpg\" alt=\"截屏2021-08-20 上午10.37.49\"></p>\n<h3 id=\"字数据大小\"><a href=\"#字数据大小\" class=\"headerlink\" title=\"字数据大小\"></a>字数据大小</h3><p>字长word size：指明指针数据的标称大小</p>\n<ul>\n<li>对于字长为$\\omega$位的机器而言，虚拟地址的范围为$0-2^{\\omega}-1$</li>\n</ul>\n<p>32位程序vs64位程序</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">gcc -m32 prog.c\ngcc -m64 prog.c\n<span class=\"token comment\">#区别在于程序如何编译，而非其运行的机器类型</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://tva1.sinaimg.cn/large/008i3skNly1gtu2hkqailj619k0qc0wb02.jpg\" alt=\"截屏2021-08-20 上午10.56.07\"></p>\n<h3 id=\"寻址和字节顺序\"><a href=\"#寻址和字节顺序\" class=\"headerlink\" title=\"寻址和字节顺序\"></a>寻址和字节顺序</h3><p>跨越多字节的程序对象，需建立两个规则</p>\n<ul>\n<li>这个对象的地址是什么</li>\n<li>内存中如何排列这些字节</li>\n</ul>\n<p>排列表示一个对象的字节的两种规则</p>\n<table>\n<thead>\n<tr>\n<th>规则</th>\n<th>特点</th>\n<th>应用</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>小端法 little endian</td>\n<td>最低有效字节在最前面</td>\n<td>大多数Intel兼容机</td>\n</tr>\n<tr>\n<td>大端法 big endian</td>\n<td>最高有效字节在最前面</td>\n<td>IBM和Oracle大多数机器</td>\n</tr>\n</tbody></table>\n<p>举例：变量<code>x</code>的类型为<code>int</code>，位于地址<code>0x100</code>处，十六进制值为<code>0x01234567</code></p>\n<p><img src=\"https://tva1.sinaimg.cn/large/008i3skNly1gtu2hns9hbj610o0d0q3z02.jpg\" alt=\"截屏2021-08-20 上午11.11.03\"></p>\n<p>字节顺序matters的几种情况</p>\n<ul>\n<li>不同类型机器之间通过网络传送二进制数据<ul>\n<li>小端法机器产生的数据被发送到大端法机器或者反过来时，接受程序会发现，字里的字节成了反序的</li>\n<li>为避免这类问题，网络应用程序代码编写必须遵守已经建立的关于字节顺序的恶规则</li>\n</ul>\n</li>\n<li>阅读表示整数数据的字节序列时<ul>\n<li>通常发生在检查机器级程序时</li>\n<li>反汇编器(disassembler)：一种确定可执行程序文件所表示的指令序列的工具</li>\n</ul>\n</li>\n<li>编写规避正常的类型系统的程序时</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">4004d3: 01 05 <span class=\"token number\">43</span> 0b <span class=\"token number\">20</span> 00 <span class=\"token function\">add</span> %eax,0x200b43<span class=\"token punctuation\">(</span>%rip<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">#十六进制字节串01 05 43 0b 20 00是一条指令的字节级表示</span>\n<span class=\"token comment\">#这条指令把一个字长的数据加到一个值上</span>\n<span class=\"token comment\">#该值的存储地址由0x200b43加上当前程序计数器的值得到</span>\n<span class=\"token comment\">#当前程序计数器的值即为下一条将要执行指令的地址</span>\n<span class=\"token comment\">#取出这个序列最后4个字节 43 0b 20 00 相反的顺序写出得 00 20 0b 43</span>\n<span class=\"token comment\">#去掉开头的0，得到值 0x200b43</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://tva1.sinaimg.cn/large/008i3skNly1gtu2hqn16lj619w0t0gqf02.jpg\" alt=\"除字节顺序外，int和float结果一样；指针值与机器相关\"></p>\n","feature":true,"text":"信息的表示和处理引入二值信号 容易被表示、存储和传输 位的组合加解释(group bits together and apply some interpretation) 能够表示任何有限集合的元素 三种重要数字表示 unsigned：基于传统的二进制表示法，表示大于或者等于0的...","link":"","photos":[],"count_time":{"symbolsCount":"1.5k","symbolsTime":"1 mins."},"categories":[{"name":"CSAPP","slug":"CSAPP","count":3,"path":"api/categories/CSAPP.json"}],"tags":[{"name":"CSAPP","slug":"CSAPP","count":3,"path":"api/tags/CSAPP.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86\"><span class=\"toc-text\">信息的表示和处理</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%BC%95%E5%85%A5\"><span class=\"toc-text\">引入</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BF%A1%E6%81%AF%E5%AD%98%E5%82%A8\"><span class=\"toc-text\">信息存储</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%8D%81%E5%85%AD%E8%BF%9B%E5%88%B6%E8%A1%A8%E7%A4%BA%E6%B3%95\"><span class=\"toc-text\">十六进制表示法</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AD%97%E6%95%B0%E6%8D%AE%E5%A4%A7%E5%B0%8F\"><span class=\"toc-text\">字数据大小</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AF%BB%E5%9D%80%E5%92%8C%E5%AD%97%E8%8A%82%E9%A1%BA%E5%BA%8F\"><span class=\"toc-text\">寻址和字节顺序</span></a></li></ol></li></ol></li></ol>","author":{"name":"Rambo","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"Still Water Runs Deep","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"C3 程序的机器级表示","uid":"56f4d97bcf32df033b2c7f1482475692","slug":"CSAPP/C3-程序的机器级表示","date":"2021-08-26T04:15:53.000Z","updated":"2021-08-26T04:19:06.848Z","comments":true,"path":"api/articles/CSAPP/C3-程序的机器级表示.json","keywords":null,"cover":[],"text":"程序的机器级表示引入 代码类型 定义 机器代码 用字节序列编码低级的操作 包括处理数据、管理内存、读写存储设备上的数据，以及利用网络通信 汇编代码 机器代码的文本表示 给出程序中的每一条指令 高级语言编程 机器屏蔽程序的细节，即机器级的实现 抽象级别高，效率高，更可靠 可以在不同...","link":"","photos":[],"count_time":{"symbolsCount":"3.4k","symbolsTime":"3 mins."},"categories":[{"name":"CSAPP","slug":"CSAPP","count":3,"path":"api/categories/CSAPP.json"}],"tags":[{"name":"CSAPP","slug":"CSAPP","count":3,"path":"api/tags/CSAPP.json"}],"author":{"name":"Rambo","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"Still Water Runs Deep","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"B2 C++函数调用图生成","uid":"ddabc27d0a61a83349413c6612afe50d","slug":"CPP/B2 C++编译函数调用图生成","date":"2021-08-26T03:46:33.000Z","updated":"2021-08-26T07:32:54.642Z","comments":true,"path":"api/articles/CPP/B2 C++编译函数调用图生成.json","keywords":null,"cover":[],"text":"C++函数调用图生成(Ubuntu18.04)https://github.com/jmarkowski/codevizsudo apt-get install graphviz git clone https://github.com/jmarkowski/codeviz.gi...","link":"","photos":[],"count_time":{"symbolsCount":754,"symbolsTime":"1 mins."},"categories":[{"name":"CPP","slug":"CPP","count":19,"path":"api/categories/CPP.json"}],"tags":[{"name":"CPP","slug":"CPP","count":19,"path":"api/tags/CPP.json"}],"author":{"name":"Rambo","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"Still Water Runs Deep","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}